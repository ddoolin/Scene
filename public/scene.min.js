window.Scene.HomeController = function() {}, function(a) {
    function b(a) {
        localStorage.setItem("currentLatitude", a.coords.latitude), localStorage.setItem("currentLongitude", a.coords.longitude);
        var b, d, e = a.coords.latitude, f = a.coords.longitude;
        d = {
            center: new google.maps.LatLng(e, f),
            zoom: 12,
            streetViewControl: !1,
            panControl: !1,
            mapTypeControl: !0,
            zoomControlOptions: {
                position: google.maps.ControlPosition.LEFT_CENTER
            },
            mapTypeId: google.maps.MapTypeId.ROADMAP
        }, b = new google.maps.Map(document.getElementById("map_canvas"), d), window.Scene.map = b, 
        c();
    }
    function c() {
        window.Scene.events, _.each(window.Scene.events, function(a) {
            var b = new google.maps.LatLng(a.location.latitude, a.location.longitude);
            new google.maps.Marker({
                map: window.Scene.map,
                position: b,
                animation: google.maps.Animation.DROP,
                title: a.name
            });
        });
    }
    (function() {
        if (Modernizr.geolocation) if (localStorage.getItem("currentLatitude") && localStorage.getItem("currentLongitude")) {
            var a = localStorage.getItem("currentLatitude"), c = localStorage.getItem("currentLongitude"), d = {
                coords: {
                    latitude: a,
                    longitude: c
                }
            };
            b(d);
        } else navigator.geolocation.getCurrentPosition(b); else console.log("Geolocation API not supported");
    })(), function() {
        var a = window.socket = null;
        null === a && (a = io.connect("/home"), a.on("connect", function() {}), a.on("message", function() {}), 
        a.on("disconnect", function() {})), a.socket.connect(), window.socket = a;
    }(), function() {
        a("#login").popover({
            html: !0,
            placement: "bottom",
            content: function() {
                return a("#login_popover_content").html();
            }
        }), a("#facebook_login").click(function() {
            console.log("Logging"), window.location.href = "/auth/facebook";
        }), a("#from_date").datepicker({
            minDate: new Date(),
            altField: a("#from_date"),
            dateFormat: "m/d/yy"
        }), a("#to_date").datepicker({
            minDate: new Date(),
            altField: a("#to_date"),
            dateFormat: "m/d/yy"
        }), a("#create_event_modal").on("shown", function() {
            a("#event_name").focus();
        });
    }();
}(jQuery), function() {
    "use strict";
    window.Scene || (window.Scene = {}), window.Scene.PhotoView = Backbone.View.extend({
        tagName: "div",
        className: "photo",
        template: _.template("<img src='<?=e.image?>'/>"),
        initialize: function() {
            this.listenTo(this.model, "change", this.render), this.render();
        },
        render: function() {
            var a = this.model.get("position"), b = this.model.get("size");
            return this.$el.css({
                left: a.x + "px",
                top: a.y + "px",
                width: b.width + "px",
                height: b.height + "px",
                "-webkit-transform": "rotate(" + this.model.get("rotation") + "deg)"
            }), this.$el.html(this.template({
                e: this.model.toJSON()
            })), this;
        }
    });
}(jQuery);